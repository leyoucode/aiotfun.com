---
import { getLocaleFromUrl, useTranslations } from '../utils/i18n';
import { getRoundtable } from '../data/mockRoundtable';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
const roundtable = getRoundtable(locale);
---

<div class="rounded-card bg-bg-alt p-6">
  <h3 class="mb-4 font-display text-xl font-bold">
    <span class="mr-2 text-models">â—Ž</span>
    {t.home.ai_roundtable}
  </h3>

  <!-- Topic title -->
  <p class="mb-3 font-display text-lg text-text">
    {roundtable.topic}
  </p>

  <!-- Debate sides -->
  <div class="mb-3 space-y-2">
    {roundtable.sides.map((side) => (
      <div class="rounded-lg border border-border p-3">
        <div class="mb-1 flex items-center gap-2">
          <span style={`color: ${side.color}`} class="text-base">{side.icon}</span>
          <span style={`color: ${side.color}`} class="font-mono text-sm font-bold">{side.label}</span>
        </div>
        <p class="text-sm text-text-muted">{side.summary}</p>
      </div>
    ))}
  </div>

  <!-- Discussion summary -->
  <p class="mb-4 text-sm text-text-muted line-clamp-2">
    {roundtable.summary}
  </p>

  <a href={roundtable.url} class="inline-block font-body text-sm text-accent transition-colors hover:underline">
    {t.home.read_discussion}
  </a>
</div>
