---
import { getLocaleFromUrl, useTranslations, getCategoryColorClass } from '../utils/i18n';

interface Props {
  category: string;
  weekly?: boolean;
}

const { category, weekly = false } = Astro.props;
const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
const colorClass = weekly ? 'bg-accent' : getCategoryColorClass(category);
const label = weekly ? (t as any).weekly_page.title : (t.category[category as keyof typeof t.category] || category);
---

<span class:list={['inline-block rounded px-2 py-0.5 text-xs font-medium text-white', colorClass]}>
  {label}
</span>
