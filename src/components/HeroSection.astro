---
import ArticleCard from './ArticleCard.astro';
import { getLocaleFromUrl, useTranslations } from '../utils/i18n';
import { getFeaturedArticles, getLatestArticles } from '../data/mockArticles';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
const featured = getFeaturedArticles(locale);
const latest = getLatestArticles(locale, 6);
const sideArticles = latest.filter((a) => !a.featured).slice(0, 3);
---

<section class="mx-auto max-w-content px-4 py-8 md:px-6 md:py-12">
  <!-- 大标题 -->
  <h1 class="mb-8 font-body text-3xl font-bold italic md:text-4xl lg:text-5xl">
    {t.home.hero_title}
  </h1>

  <!-- Featured + 侧边 -->
  <div class="grid items-start gap-4 md:grid-cols-3">
    <!-- Featured 大卡 (2/3) -->
    <div class="md:col-span-2">
      {featured[0] && <ArticleCard article={featured[0]} variant="featured" />}
    </div>

    <!-- 右侧小卡片 (1/3) -->
    <div class="flex flex-col gap-3">
      {sideArticles.map((article) => (
        <ArticleCard article={article} variant="small" />
      ))}
    </div>
  </div>
</section>
