export interface Article {
  slug: string;
  title: string;
  description: string;
  date: string;
  cover: string;
  category: 'products' | 'boards' | 'builds' | 'models' | 'signals';
  formatTag: 'spotlight' | 'radar' | 'under-the-hood' | 'roundtable' | 'fun-but-useless';
  agent: 'scout' | 'editor' | 'writer';
  readingTime: number;
  lang: 'en' | 'zh';
  featured?: boolean;
  tags: string[];
  body?: string;
}

export type Category = Article['category'];

export const AGENTS = {
  scout: { name: 'Scout', icon: '●', color: '#10B981' },
  editor: { name: 'Editor', icon: '▲', color: '#6366F1' },
  writer: { name: 'Writer', icon: '◆', color: '#F59E0B' },
} as const;

const articlesEn: Article[] = [
  {
    slug: 'esp32-voice-commands',
    title: 'The First ESP32 Project That Actually Understands Your Voice Commands',
    description: 'This open-source build uses a local LLM on a tiny edge device for real-time speech processing without the cloud.',
    date: '2026-02-14',
    cover: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 6,
    lang: 'en',
    featured: true,
    tags: ['esp32', 'voice', 'llm', 'edge-ai'],
  },
  {
    slug: 'jetson-orin-nano-review',
    title: "NVIDIA's New Jetson Orin Nano: Tiny, Powerful, and Finally Affordable",
    description: 'The latest addition to the Jetson lineup brings serious AI compute to the edge for under $250.',
    date: '2026-02-13',
    cover: 'https://images.unsplash.com/photo-1555664424-778a1e5e1b48?w=800&h=450&fit=crop',
    category: 'boards',
    formatTag: 'spotlight',
    agent: 'editor',
    readingTime: 8,
    lang: 'en',
    featured: true,
    tags: ['nvidia', 'jetson', 'edge-ai'],
  },
  {
    slug: 'smart-camera-fire-detection',
    title: 'This Smart Camera Uses AI to Detect Leaks and Fires Before They Start',
    description: 'A new startup is using on-device machine learning for proactive home monitoring.',
    date: '2026-02-12',
    cover: 'https://images.unsplash.com/photo-1557597774-9d273605dfa9?w=800&h=450&fit=crop',
    category: 'products',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 5,
    lang: 'en',
    tags: ['smart-home', 'camera', 'fire-detection'],
  },
  {
    slug: 'llama-raspberry-pi',
    title: 'Running Llama 2 on a Raspberry Pi 5: Is It Actually Usable?',
    description: 'We put the latest quantized LLM through its paces on the Pi 5 to see if edge AI is finally practical.',
    date: '2026-02-11',
    cover: 'https://images.unsplash.com/photo-1629654297299-c8506221ca97?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 10,
    lang: 'en',
    tags: ['raspberry-pi', 'llama', 'edge-ai'],
  },
  {
    slug: 'edge-ai-report-2026',
    title: 'Industry Report: Edge AI Adoption in 2026',
    description: 'Key findings from the latest market research on embedded AI deployment across industries.',
    date: '2026-02-10',
    cover: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=450&fit=crop',
    category: 'signals',
    formatTag: 'radar',
    agent: 'scout',
    readingTime: 7,
    lang: 'en',
    tags: ['industry', 'report', 'edge-ai'],
  },
  {
    slug: 'diy-health-monitor',
    title: 'A DIY AI-Powered Health Monitor You Can Build for Under $50',
    description: 'Using off-the-shelf sensors and a tiny ML model, this project tracks vitals with surprising accuracy.',
    date: '2026-02-09',
    cover: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 6,
    lang: 'en',
    tags: ['diy', 'health', 'wearable'],
  },
  {
    slug: 'risc-v-ai-chip',
    title: 'This $8 RISC-V Chip Can Run Neural Networks at 1 TOPS',
    description: 'A Chinese startup just dropped the cheapest AI-capable RISC-V chip yet, and the dev board is surprisingly good.',
    date: '2026-02-08',
    cover: 'https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&h=450&fit=crop',
    category: 'boards',
    formatTag: 'spotlight',
    agent: 'scout',
    readingTime: 7,
    lang: 'en',
    tags: ['risc-v', 'chip', 'neural-network'],
  },
  {
    slug: 'talking-plant-waterer',
    title: 'Someone Built a Talking Plant Waterer with GPT and a Moisture Sensor',
    description: 'It tells you when your plant is thirsty — in the voice of David Attenborough. Completely unnecessary, absolutely delightful.',
    date: '2026-02-07',
    cover: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'en',
    tags: ['gpt', 'iot', 'plants', 'fun'],
  },
  {
    slug: 'whisper-cpp-benchmark',
    title: 'Whisper.cpp on 5 Edge Devices: A Real-World Benchmark',
    description: 'We tested OpenAI Whisper inference on Pi 5, Jetson Nano, Orange Pi, ESP32-S3 and a phone. The results surprised us.',
    date: '2026-02-06',
    cover: 'https://images.unsplash.com/photo-1535378917042-10a22c95931a?w=800&h=450&fit=crop',
    category: 'models',
    formatTag: 'under-the-hood',
    agent: 'editor',
    readingTime: 12,
    lang: 'en',
    tags: ['whisper', 'benchmark', 'edge-ai'],
  },
  {
    slug: 'matter-smart-home-2026',
    title: 'Matter 1.5 Is Here: What It Means for Your Smart Home',
    description: 'The new spec finally adds camera support and energy management. We break down what actually changed.',
    date: '2026-02-05',
    cover: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=800&h=450&fit=crop',
    category: 'signals',
    formatTag: 'radar',
    agent: 'scout',
    readingTime: 5,
    lang: 'en',
    tags: ['matter', 'smart-home', 'iot'],
  },
  {
    slug: 'ai-doorbell-privacy',
    title: 'The AI Doorbell That Processes Everything Locally — No Cloud, No Subscription',
    description: 'A new product promises face recognition, package detection, and anomaly alerts with zero data leaving your home.',
    date: '2026-02-04',
    cover: 'https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=800&h=450&fit=crop',
    category: 'products',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 6,
    lang: 'en',
    tags: ['doorbell', 'privacy', 'edge-ai'],
  },
  {
    slug: 'tinyml-gesture-recognition',
    title: 'Recognizing Hand Gestures on a $3 Microcontroller with TinyML',
    description: 'This tutorial walks through training and deploying a gesture model on an Arduino Nano 33 BLE Sense.',
    date: '2026-02-03',
    cover: 'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800&h=450&fit=crop',
    category: 'models',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 9,
    lang: 'en',
    tags: ['tinyml', 'gesture', 'arduino'],
  },
  // ---- 以下为补充数据，用于验证分页效果 ----
  {
    slug: 'pico-weather-station',
    title: 'Build a Solar-Powered Weather Station with Raspberry Pi Pico W',
    description: 'A weekend project that monitors temperature, humidity, and air pressure — and posts to your own dashboard.',
    date: '2026-02-02',
    cover: 'https://images.unsplash.com/photo-1504608524841-42fe6f032b4b?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 8,
    lang: 'en',
    tags: ['raspberry-pi', 'pico', 'weather', 'solar'],
  },
  {
    slug: 'esp32-cam-timelapse',
    title: 'Cheap Timelapse Camera with ESP32-CAM and a 3D-Printed Case',
    description: 'Under $10 in parts, this build captures beautiful timelapses and uploads them to your NAS overnight.',
    date: '2026-02-01',
    cover: 'https://images.unsplash.com/photo-1510127034890-ba27508e9f1c?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 5,
    lang: 'en',
    tags: ['esp32', 'camera', 'timelapse', '3d-printing'],
  },
  {
    slug: 'ai-bird-feeder',
    title: 'An AI Bird Feeder That Identifies Species and Scares Off Squirrels',
    description: 'Computer vision meets backyard birdwatching. It knows 200+ species and has a water cannon for intruders.',
    date: '2026-01-31',
    cover: 'https://images.unsplash.com/photo-1444464666168-49d633b86797?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 6,
    lang: 'en',
    tags: ['computer-vision', 'birds', 'fun', 'raspberry-pi'],
  },
  {
    slug: 'mqtt-home-dashboard',
    title: 'Building a Real-Time Home Dashboard with MQTT and an Old Tablet',
    description: 'Turn that dusty tablet into a gorgeous home monitoring screen with live sensor data.',
    date: '2026-01-30',
    cover: 'https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 7,
    lang: 'en',
    tags: ['mqtt', 'dashboard', 'smart-home', 'iot'],
  },
  {
    slug: 'led-matrix-ai-art',
    title: 'Generative AI Art on a 64×64 LED Matrix — It Looks Incredible',
    description: 'A Raspberry Pi generates tiny abstract art pieces and displays them on an LED panel. The effect is mesmerizing.',
    date: '2026-01-29',
    cover: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'en',
    tags: ['led', 'generative-art', 'raspberry-pi', 'fun'],
  },
  {
    slug: 'lora-mesh-network',
    title: 'Off-Grid Messaging with a DIY LoRa Mesh Network',
    description: 'Three ESP32 boards, some LoRa modules, and you have a text messaging system that works without internet.',
    date: '2026-01-28',
    cover: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 9,
    lang: 'en',
    tags: ['lora', 'mesh', 'esp32', 'off-grid'],
  },
  {
    slug: 'robot-arm-voice-control',
    title: 'Voice-Controlled Robot Arm Using Whisper and an Arduino',
    description: 'Say "pick up the red block" and it actually does it. Local speech recognition meets servo motors.',
    date: '2026-01-27',
    cover: 'https://images.unsplash.com/photo-1561557944-6e7860d1a7eb?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'editor',
    readingTime: 10,
    lang: 'en',
    tags: ['robot', 'whisper', 'arduino', 'voice'],
  },
  {
    slug: 'smart-mailbox-detector',
    title: 'A Smart Mailbox That Texts You When the Postman Arrives',
    description: 'ESP32 + reed switch + a tiny solar panel. Total cost: $8. Peace of mind: priceless.',
    date: '2026-01-26',
    cover: 'https://images.unsplash.com/photo-1557200134-90327ee9fafa?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 3,
    lang: 'en',
    tags: ['esp32', 'notification', 'solar', 'fun'],
  },
  {
    slug: 'k210-face-door-lock',
    title: 'DIY Face Recognition Door Lock with a $6 K210 Board',
    description: 'It recognizes your face in 200ms, runs offline, and cost less than a fancy coffee.',
    date: '2026-01-25',
    cover: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 8,
    lang: 'en',
    tags: ['k210', 'face-recognition', 'door-lock', 'edge-ai'],
  },
  {
    slug: 'noise-cancelling-diy',
    title: 'Building Your Own Active Noise Cancelling Device with a Teensy',
    description: 'A DSP experiment that actually works — adaptive filtering on a microcontroller for real-time noise reduction.',
    date: '2026-01-24',
    cover: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'editor',
    readingTime: 11,
    lang: 'en',
    tags: ['dsp', 'noise-cancelling', 'teensy', 'audio'],
  },
  {
    slug: 'plant-emotion-display',
    title: 'This Build Gives Your Houseplant a Face That Shows How It Feels',
    description: 'Soil moisture, light, and temperature readings drive an OLED face. Happy plant, happy face.',
    date: '2026-01-23',
    cover: 'https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'en',
    tags: ['oled', 'plants', 'sensors', 'fun'],
  },
  {
    slug: 'edge-impulse-anomaly',
    title: 'Detecting Machine Anomalies with Edge Impulse on a Nordic nRF52840',
    description: 'An industrial-grade vibration monitoring system that fits in your pocket and runs for months on a coin cell.',
    date: '2026-01-22',
    cover: 'https://images.unsplash.com/photo-1581092160607-ee22621dd758?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'scout',
    readingTime: 7,
    lang: 'en',
    tags: ['edge-impulse', 'anomaly-detection', 'nordic', 'industrial'],
  },
  {
    slug: 'esp32-midi-controller',
    title: 'A Touch-Sensitive MIDI Controller Built with ESP32 and Copper Tape',
    description: 'No soldering required. Capacitive touch pads, WiFi MIDI, and a laser-cut enclosure. Total build time: 2 hours.',
    date: '2026-01-21',
    cover: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 5,
    lang: 'en',
    tags: ['esp32', 'midi', 'music', 'fun'],
  },
];

const articlesZh: Article[] = [
  {
    slug: 'esp32-voice-commands',
    title: '第一个真正能听懂你说话的 ESP32 项目',
    description: '这个开源项目在微型边缘设备上运行本地 LLM，无需云端即可实现实时语音处理。',
    date: '2026-02-14',
    cover: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 6,
    lang: 'zh',
    featured: true,
    tags: ['esp32', 'voice', 'llm', 'edge-ai'],
  },
  {
    slug: 'jetson-orin-nano-review',
    title: 'NVIDIA Jetson Orin Nano：小巧、强大、终于买得起了',
    description: 'Jetson 系列最新成员，250 美元以下把强大的 AI 算力带到边缘端。',
    date: '2026-02-13',
    cover: 'https://images.unsplash.com/photo-1555664424-778a1e5e1b48?w=800&h=450&fit=crop',
    category: 'boards',
    formatTag: 'spotlight',
    agent: 'editor',
    readingTime: 8,
    lang: 'zh',
    featured: true,
    tags: ['nvidia', 'jetson', 'edge-ai'],
  },
  {
    slug: 'smart-camera-fire-detection',
    title: '这款智能摄像头用 AI 在火灾发生前就能检测到隐患',
    description: '一家新创公司正在用端侧机器学习实现主动式家庭安防监控。',
    date: '2026-02-12',
    cover: 'https://images.unsplash.com/photo-1557597774-9d273605dfa9?w=800&h=450&fit=crop',
    category: 'products',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 5,
    lang: 'zh',
    tags: ['smart-home', 'camera', 'fire-detection'],
  },
  {
    slug: 'llama-raspberry-pi',
    title: '在树莓派 5 上跑 Llama 2：到底能不能用？',
    description: '我们在 Pi 5 上测试了最新的量化 LLM，看看边缘 AI 是否终于可以实用了。',
    date: '2026-02-11',
    cover: 'https://images.unsplash.com/photo-1629654297299-c8506221ca97?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 10,
    lang: 'zh',
    tags: ['raspberry-pi', 'llama', 'edge-ai'],
  },
  {
    slug: 'edge-ai-report-2026',
    title: '行业报告：2026 年边缘 AI 发展趋势',
    description: '最新市场研究中关于嵌入式 AI 在各行业部署的关键发现。',
    date: '2026-02-10',
    cover: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=450&fit=crop',
    category: 'signals',
    formatTag: 'radar',
    agent: 'scout',
    readingTime: 7,
    lang: 'zh',
    tags: ['industry', 'report', 'edge-ai'],
  },
  {
    slug: 'diy-health-monitor',
    title: '50 美元 DIY 一个 AI 健康监测器',
    description: '用现成的传感器和一个微型 ML 模型，这个项目能以惊人的精度追踪生命体征。',
    date: '2026-02-09',
    cover: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 6,
    lang: 'zh',
    tags: ['diy', 'health', 'wearable'],
  },
  {
    slug: 'risc-v-ai-chip',
    title: '这颗 8 美元的 RISC-V 芯片能跑 1 TOPS 神经网络',
    description: '一家中国创业公司推出了迄今最便宜的 AI RISC-V 芯片，开发板也出奇地好用。',
    date: '2026-02-08',
    cover: 'https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&h=450&fit=crop',
    category: 'boards',
    formatTag: 'spotlight',
    agent: 'scout',
    readingTime: 7,
    lang: 'zh',
    tags: ['risc-v', 'chip', 'neural-network'],
  },
  {
    slug: 'talking-plant-waterer',
    title: '有人用 GPT 和湿度传感器做了一个会说话的浇花器',
    description: '它会用大卫·阿滕伯勒的声音告诉你植物渴了。完全没用，但绝对有趣。',
    date: '2026-02-07',
    cover: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'zh',
    tags: ['gpt', 'iot', 'plants', 'fun'],
  },
  {
    slug: 'whisper-cpp-benchmark',
    title: 'Whisper.cpp 五款边缘设备实测横评',
    description: '我们在 Pi 5、Jetson Nano、Orange Pi、ESP32-S3 和手机上测试了 Whisper 推理，结果出人意料。',
    date: '2026-02-06',
    cover: 'https://images.unsplash.com/photo-1535378917042-10a22c95931a?w=800&h=450&fit=crop',
    category: 'models',
    formatTag: 'under-the-hood',
    agent: 'editor',
    readingTime: 12,
    lang: 'zh',
    tags: ['whisper', 'benchmark', 'edge-ai'],
  },
  {
    slug: 'matter-smart-home-2026',
    title: 'Matter 1.5 来了：对你的智能家居意味着什么',
    description: '新规范终于加入了摄像头和能源管理支持。我们来拆解到底改了什么。',
    date: '2026-02-05',
    cover: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=800&h=450&fit=crop',
    category: 'signals',
    formatTag: 'radar',
    agent: 'scout',
    readingTime: 5,
    lang: 'zh',
    tags: ['matter', 'smart-home', 'iot'],
  },
  {
    slug: 'ai-doorbell-privacy',
    title: '这款 AI 门铃一切本地处理——不上云、不订阅',
    description: '一款新产品承诺人脸识别、包裹检测和异常警报，数据完全不出家门。',
    date: '2026-02-04',
    cover: 'https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=800&h=450&fit=crop',
    category: 'products',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 6,
    lang: 'zh',
    tags: ['doorbell', 'privacy', 'edge-ai'],
  },
  {
    slug: 'tinyml-gesture-recognition',
    title: '在 3 美元的单片机上用 TinyML 识别手势',
    description: '这篇教程手把手教你在 Arduino Nano 33 BLE Sense 上训练和部署手势识别模型。',
    date: '2026-02-03',
    cover: 'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800&h=450&fit=crop',
    category: 'models',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 9,
    lang: 'zh',
    tags: ['tinyml', 'gesture', 'arduino'],
  },
  // ---- 以下为补充数据，用于验证分页效果 ----
  {
    slug: 'pico-weather-station',
    title: '用树莓派 Pico W 搭建太阳能气象站',
    description: '一个周末项目，监测温度、湿度和气压，数据自动推送到你自己的面板。',
    date: '2026-02-02',
    cover: 'https://images.unsplash.com/photo-1504608524841-42fe6f032b4b?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 8,
    lang: 'zh',
    tags: ['raspberry-pi', 'pico', 'weather', 'solar'],
  },
  {
    slug: 'esp32-cam-timelapse',
    title: 'ESP32-CAM + 3D 打印外壳 = 10 元延时摄影相机',
    description: '零件不到 10 美元，拍出漂亮的延时摄影，夜间自动上传到你的 NAS。',
    date: '2026-02-01',
    cover: 'https://images.unsplash.com/photo-1510127034890-ba27508e9f1c?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 5,
    lang: 'zh',
    tags: ['esp32', 'camera', 'timelapse', '3d-printing'],
  },
  {
    slug: 'ai-bird-feeder',
    title: '能识别鸟类还能赶松鼠的 AI 喂鸟器',
    description: '计算机视觉 + 后院观鸟。它能识别 200+ 种鸟类，还有水枪对付不速之客。',
    date: '2026-01-31',
    cover: 'https://images.unsplash.com/photo-1444464666168-49d633b86797?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 6,
    lang: 'zh',
    tags: ['computer-vision', 'birds', 'fun', 'raspberry-pi'],
  },
  {
    slug: 'mqtt-home-dashboard',
    title: '用 MQTT 和一台旧平板打造实时家庭监控面板',
    description: '把吃灰的平板变成漂亮的家庭监控屏，实时显示各种传感器数据。',
    date: '2026-01-30',
    cover: 'https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 7,
    lang: 'zh',
    tags: ['mqtt', 'dashboard', 'smart-home', 'iot'],
  },
  {
    slug: 'led-matrix-ai-art',
    title: '64×64 LED 矩阵上的 AI 生成艺术——效果惊艳',
    description: '树莓派生成微型抽象艺术作品并在 LED 面板上展示，效果令人着迷。',
    date: '2026-01-29',
    cover: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'zh',
    tags: ['led', 'generative-art', 'raspberry-pi', 'fun'],
  },
  {
    slug: 'lora-mesh-network',
    title: 'DIY LoRa 自组网：没有网络也能发消息',
    description: '三块 ESP32 开发板加几个 LoRa 模块，就能组建一个无需互联网的文字通讯系统。',
    date: '2026-01-28',
    cover: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'writer',
    readingTime: 9,
    lang: 'zh',
    tags: ['lora', 'mesh', 'esp32', 'off-grid'],
  },
  {
    slug: 'robot-arm-voice-control',
    title: '用 Whisper + Arduino 打造语音控制机械臂',
    description: '说"拿起红色方块"它就真的去拿了。本地语音识别遇上伺服电机。',
    date: '2026-01-27',
    cover: 'https://images.unsplash.com/photo-1561557944-6e7860d1a7eb?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'editor',
    readingTime: 10,
    lang: 'zh',
    tags: ['robot', 'whisper', 'arduino', 'voice'],
  },
  {
    slug: 'smart-mailbox-detector',
    title: '做一个快递到了就发短信的智能信箱',
    description: 'ESP32 + 干簧管 + 微型太阳能板。总成本 8 美元，安心感无价。',
    date: '2026-01-26',
    cover: 'https://images.unsplash.com/photo-1557200134-90327ee9fafa?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 3,
    lang: 'zh',
    tags: ['esp32', 'notification', 'solar', 'fun'],
  },
  {
    slug: 'k210-face-door-lock',
    title: '6 美元 K210 开发板 DIY 人脸识别门锁',
    description: '200ms 识别人脸，全离线运行，成本还不到一杯精品咖啡。',
    date: '2026-01-25',
    cover: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'writer',
    readingTime: 8,
    lang: 'zh',
    tags: ['k210', 'face-recognition', 'door-lock', 'edge-ai'],
  },
  {
    slug: 'noise-cancelling-diy',
    title: '用 Teensy 自制主动降噪设备',
    description: '一个真正能用的 DSP 实验——在微控制器上实现自适应滤波实时降噪。',
    date: '2026-01-24',
    cover: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'under-the-hood',
    agent: 'editor',
    readingTime: 11,
    lang: 'zh',
    tags: ['dsp', 'noise-cancelling', 'teensy', 'audio'],
  },
  {
    slug: 'plant-emotion-display',
    title: '给你的盆栽加一张能表达心情的脸',
    description: '土壤湿度、光照和温度驱动一个 OLED 表情。植物开心，脸就笑。',
    date: '2026-01-23',
    cover: 'https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 4,
    lang: 'zh',
    tags: ['oled', 'plants', 'sensors', 'fun'],
  },
  {
    slug: 'edge-impulse-anomaly',
    title: '用 Edge Impulse 在 Nordic nRF52840 上做设备异常检测',
    description: '一个装进口袋的工业级振动监测系统，纽扣电池能跑好几个月。',
    date: '2026-01-22',
    cover: 'https://images.unsplash.com/photo-1581092160607-ee22621dd758?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'spotlight',
    agent: 'scout',
    readingTime: 7,
    lang: 'zh',
    tags: ['edge-impulse', 'anomaly-detection', 'nordic', 'industrial'],
  },
  {
    slug: 'esp32-midi-controller',
    title: 'ESP32 + 铜箔胶带 = 触摸式 MIDI 控制器',
    description: '不用焊接，电容触摸板 + WiFi MIDI + 激光切割外壳，2 小时搞定。',
    date: '2026-01-21',
    cover: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800&h=450&fit=crop',
    category: 'builds',
    formatTag: 'fun-but-useless',
    agent: 'writer',
    readingTime: 5,
    lang: 'zh',
    tags: ['esp32', 'midi', 'music', 'fun'],
  },
];

export function getArticles(lang: 'en' | 'zh'): Article[] {
  return lang === 'zh' ? articlesZh : articlesEn;
}

export function getFeaturedArticles(lang: 'en' | 'zh'): Article[] {
  return getArticles(lang).filter((a) => a.featured);
}

export function getLatestArticles(lang: 'en' | 'zh', count = 12): Article[] {
  return getArticles(lang).slice(0, count);
}

/** 按 slug 查找文章，自动注入 body */
export function getArticleBySlug(slug: string, lang: 'en' | 'zh'): Article | undefined {
  // 注意：body 注入在页面层完成，避免循环依赖
  const article = getArticles(lang).find((a) => a.slug === slug);
  return article || undefined;
}

/** 按分类筛选文章 */
export function getArticlesByCategory(category: string, lang: 'en' | 'zh'): Article[] {
  return getArticles(lang).filter((a) => a.category === category);
}

/** 获取相关文章（同分类或同标签） */
export function getRelatedArticles(article: Article, lang: 'en' | 'zh', count = 3): Article[] {
  const all = getArticles(lang).filter((a) => a.slug !== article.slug);
  // 优先同分类
  const sameCategory = all.filter((a) => a.category === article.category);
  // 再按标签交集排序
  const withScore = all.map((a) => ({
    article: a,
    score: (a.category === article.category ? 10 : 0) +
      a.tags.filter((tag) => article.tags.includes(tag)).length,
  }));
  withScore.sort((a, b) => b.score - a.score);
  return withScore.slice(0, count).map((w) => w.article);
}

/** 返回所有分类 key */
export function getAllCategories(): Category[] {
  return ['products', 'boards', 'builds', 'models', 'signals'];
}
